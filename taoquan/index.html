<!DOCTYPE html>
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>试手气赢大奖</title>
    <link rel="stylesheet" href="style.css">
	<script src="base-loading.js" type="text/javascript"></script>
</head>

<body>
	<!-- 广告区 start-->
    <div class="banner">
        <img class="banner_img" src="banner.jpg" alt="试手气赢大奖" id="bannerImg">
    </div>
	<!-- 广告区 end-->
    <!-- 游戏区 start -->
    <div class="part">
        <div class="part_content">
            <div class="game">
                <div class="game_hd">
					<a id="btn_game_begin" class="act-btn act-btn-default" href="javascript:void(0);">开始抽奖</a>
					<i class="icon_circle" id="circle"></i>
				</div>
				<div class="game_bd gift-anit" id="game">
					<div class="gift gift_yellow gift_01">
						<div class="gift_img">
							<img src="gift_02.png" alt="apple watch">
						</div>
					</div>
					<div class="gift gift_purple gift_02">
						<div class="gift_img">
							<img src="gift_01.png" alt="ipad">
						</div>
					</div>
					<div class="gift gift_orange gift_03">
						<div class="gift_img">
							<img src="gift_03.png" alt="理财通">
						</div>
					</div>
					<div class="gift gift_orange gift_04">
						<div class="gift_img">
							<img src="gift_04.png" alt="滴滴券">
						</div>
					</div>
					<div class="gift gift_orange gift_05">
						<div class="gift_img">
							<img src="gift_05.png" alt="电影票">
						</div>
					</div>
					<div class="gift gift_purple gift_06">
						<div class="gift_img">
							<img src="gift_06.png" alt="Q币">
						</div>
					</div>
				</div>
            </div>
            <div class="check-gift">
                <i class="icon-gift"></i>
                <a href="javascript:void(0)" class="chakan link">查看我的奖品</a>
            </div>
        </div>
    </div>
    <!-- 游戏区 end -->
    <!-- 规则 start-->
    <div class="rules">
        <h2 class="rules_title">活动规则</h2>
        <ul class="rules_list">
            <li>1、Lorem ipsum dolor sit amet, consectetur adipisicing elit. Porro, sint!</li>
			<li>2、Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo, non?</li>
			<li>3、Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis, fugit.</li>
			<li>4、Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illum, velit?</li>
        </ul>
    </div>
    <!--规则 end -->
	<div class="fullbg"></div>
	<!-- 表单填写 弹窗 start-->
	<div class="open-win" id="form">
		<div style="margin: 20px 0;text-align: center">填写正确信息，作为领奖重要凭证</div>
		<label for="name">姓<i class="place_holder"></i><i class="place_holder"></i>名：</label><input type="text" id="name"/>
		<div class="wrong">请正确填写姓名</div>
		<div class="clear"></div>
		<label for="phone">联系号码：</label><input type="text" id="phone"/>
		<div class="wrong">请正确填写手机号</div>
		<div class="clear"></div>
		<div class="clear"></div>
		<div class="operate">
			<div class="gift_btn gift_btn" onclick="mask_hide('form');play()">提交</div>
			<div class="clo_btn gift_btn" onclick="mask_hide('form');">关闭</div>
		</div>
	</div>
	<!-- 表单填写 弹窗 end-->
	<!-- 我的奖品 弹窗 start-->
	<div class="open-win" id="gift">
		<img src="gift.png" alt="" class="gift_img"/>
		<p style="padding-top: 10%;line-height: 30px;height: 84px;margin-left: 4%">恭喜您！<br/>获得<span class="gift_name">
			移动硬盘</span>一枚！</p>
		<div class="clear"></div>
		<div class="operate">
			<div class="clo_btn gift_btn"
			     onclick="$('#circle').attr('class', '').addClass('icon_circle');mask_hide('gift');" style="width: 49%; margin-right: 1%;">关闭</div>
			<a class="gift_btn gift_btn" href="gift.html">查看奖品</a>
		</div>
	</div>
	<!-- 我的奖品 弹窗 end-->
	<!-- 活动结束 弹窗 start-->
	<div class="open-win" id="end">
		<p style="padding-top: 40px;line-height: 30px;height: 84px;">活动已结束 <br/>敬请期待下期活动哦~</p>
		<div class="clear"></div>
		<div class="operate">
			<div class="clo_btn gift_btn" onclick="mask_hide('end');" style="width: 100%">确定</div>
		</div>
	</div>
	<!-- 活动结束 弹窗 end-->
	<!-- 继续努力 弹窗 start-->
	<div class="open-win" id="more">
		<p>亲，请继续努力哦！</p>
		<div class="clear"></div>
		<div class="operate">
			<div class="clo_btn gift_btn" onclick="$('#circle').attr('class', '').addClass('icon_circle');mask_hide('more');" style="width: 100%">确定</div>
		</div>
	</div>
	<!-- 继续努力 弹窗 end-->
	<!-- 暂无奖品 弹窗 start-->
	<div class="open-win" id="no">
		<p style="padding-top: 40px;line-height: 30px;height: 84px;">亲，您还没有中奖纪 <br/>录哦，请继续努力</p>
		<div class="clear"></div>
		<div class="operate">
			<div class="clo_btn gift_btn" onclick="mask_hide('no');" style="width: 100%">确定</div>
		</div>
	</div>
	<!-- 暂无奖品 弹窗 end-->
	<!-- 已经中奖 弹窗 start-->
	<div class="open-win" id="already">
		<p style="padding-top: 40px;line-height: 30px;height: 84px;">亲，不要贪心哦，您<br/>已经领过奖品咯~</p>
		<div class="clear"></div>
		<div class="operate">
			<div class="clo_btn gift_btn" onclick="mask_hide('already');" style="width: 100%">确定</div>
		</div>
	</div>
	<!-- 已经中奖 弹窗 end-->

<script src="zepto.min.js"></script>
<script>
$(window).on('load', function(){
	$('#loading').hide();
	$('#game').addClass('gift-anit');
});

var use_status = 1;//用户信息参数 0为未填写 1为已填写
var get_gift = 0;//中奖参数 1为中奖 0为不中奖 2为已经中奖

//查看奖品按键
$('.chakan').on('click', function() {
	if(get_gift == 0){
		//未中奖显示暂无奖品弹窗
		show('no');
	}else{
		window.location.href = 'gift.html';
	}
});

//游戏按键
$('#btn_game_begin').on('click', function() {
	if(get_gift ==2){
		//已经中奖 显示不要贪心弹窗
		show('already');
	}else{
		if(use_status == 0){
			//默认页面加载完毕打开用户信息录入弹框
			show('form');
		}else{
			play();
		}
	}
});

//游戏功能
function play(){
	if(get_gift == 1){
		//中奖 随机套取奖品，稍后显示中奖弹窗
		var gift_num =Math.round(Math.random() * 5)+1;
		$("#circle").hide().show().attr('class', '').addClass('icon_circle');
		$('#circle').addClass('anit_circle_to'+gift_num);
		setTimeout("show('gift')",2000);
	}else if(get_gift == 0){
		//不中奖 显示再来一次弹窗
		$("#circle").hide().show().attr('class', '').addClass('icon_circle');
		$('#circle').hide().show().addClass('anit_circle_to0');
		setTimeout("show('more')",2000);
	}
}

//弹窗功能
function show(ele) {
	var body = $("body");
	var bh = body.height();
	var bw = body.width();
	var height = $(window).width() * 0.7;
	var t = height / 2;
	$(".fullbg").css({
		height : bh,
		width  : bw,
		display: "block"
	});
	$("#" + ele).css('margin-top', '-' + t + 'px').show(500);
}
function mask_hide(ele) {
	$("#" + ele).hide();
	$(".fullbg").hide();
}
</Script>